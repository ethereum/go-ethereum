
<!doctype>
<html>
<head>
<meta name="badge" content="10">
<script type="text/javascript" src="../ext/bignumber.min.js"></script>
<script type="text/javascript" src="../ext/ethereum.js/dist/ethereum.js"></script>
</head>
<body>
    <h1>Info</h1>

	<table width="100%">
		<tr>
			<td>Block number</td>
			<td id="number"></td>
		</tr>

		<tr>
			<td>Peer count</td>
			<td id="peer_count"></td>
		</tr>

		<tr>
			<td>Default block</td>
			<td id="default_block"></td>
		</tr>

		<tr>
			<td>Accounts</td>
			<td id="accounts"></td>
		</tr>

		<tr>
			<td>Balance</td>
			<td id="balance"></td>

		<tr>
			<td>Gas price</td>
			<td id="gas_price"></td>
		</tr>

		<tr>
			<td>Mining</td>
			<td id="mining"></td>
		</tr>

		<tr>
			<td>Listening</td>
			<td id="listening"></td>
		</tr>

		<tr>
			<td>Coinbase</td>
			<td id="coinbase"></td>
		</tr>
	</table>
</body>

<script type="text/javascript">
    var web3 = require('web3');
    var eth = web3.eth;

    web3.setProvider(new web3.providers.HttpSyncProvider('http://localhost:8545'));

    eth.defaultBlock = -2

    document.querySelector("#number").innerHTML = eth.number;
    document.querySelector("#coinbase").innerHTML = eth.coinbase
    document.querySelector("#peer_count").innerHTML = eth.peerCount;
    document.querySelector("#default_block").innerHTML = eth.defaultBlock;
    document.querySelector("#accounts").innerHTML = eth.accounts;
    document.querySelector("#balance").innerHTML = web3.toEth(eth.balanceAt(eth.accounts[0]));
    document.querySelector("#gas_price").innerHTML = eth.gasPrice;
    document.querySelector("#mining").innerHTML = eth.mining;
    document.querySelector("#listening").innerHTML = eth.listening;
    eth.watch('chain').changed(function() {
        document.querySelector("#number").innerHTML = eth.number;
    });


</script>

</html>

